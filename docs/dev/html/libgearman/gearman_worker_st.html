<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Worker (gearman_worker_st) &mdash; Gearmand 6668028 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6668028',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Gearmand 6668028 documentation" href="../index.html" />
    <link rel="up" title="Libgearman" href="index.html" />
    <link rel="next" title="Job handle (gearman_job_handle_t)" href="gearman_job_handle_t.html" />
    <link rel="prev" title="Task (gearman_task_st)" href="gearman_task_st.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gearman_job_handle_t.html" title="Job handle (gearman_job_handle_t)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gearman_task_st.html" title="Task (gearman_task_st)"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Gearmand 6668028 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Libgearman</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="worker-gearman-worker-st">
<h1>Worker (gearman_worker_st)<a class="headerlink" href="#worker-gearman-worker-st" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>#include &lt;libgearman/gearman.h&gt;</p>
<dl class="type">
<dt id="c.gearman_worker_st">
<tt class="descname">gearman_worker_st</tt><a class="headerlink" href="#c.gearman_worker_st" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="type">
<dt id="c.gearman_worker_set_task_context_free_fn">
<tt class="descname">gearman_worker_set_task_context_free_fn</tt><a class="headerlink" href="#c.gearman_worker_set_task_context_free_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_timeout">
int <tt class="descname">gearman_worker_timeout</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_worker_timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_set_timeout">
void <tt class="descname">gearman_worker_set_timeout</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, int<em>&nbsp;timeout</em><big>)</big><a class="headerlink" href="#c.gearman_worker_set_timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_context">
void *<tt class="descname">gearman_worker_context</tt><big>(</big>const <a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_worker_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_set_context">
void <tt class="descname">gearman_worker_set_context</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, void<em>&nbsp;*context</em><big>)</big><a class="headerlink" href="#c.gearman_worker_set_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_set_workload_malloc_fn">
void <tt class="descname">gearman_worker_set_workload_malloc_fn</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, <a class="reference internal" href="gearman_allocator_t.html#c.gearman_malloc_fn" title="gearman_malloc_fn">gearman_malloc_fn</a><em>&nbsp;*function</em>, void<em>&nbsp;*context</em><big>)</big><a class="headerlink" href="#c.gearman_worker_set_workload_malloc_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_set_workload_free_fn">
void <tt class="descname">gearman_worker_set_workload_free_fn</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, <a class="reference internal" href="gearman_allocator_t.html#c.gearman_free_fn" title="gearman_free_fn">gearman_free_fn</a><em>&nbsp;*function</em>, void<em>&nbsp;*context</em><big>)</big><a class="headerlink" href="#c.gearman_worker_set_workload_free_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_wait">
<a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a> <tt class="descname">gearman_worker_wait</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_worker_wait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_register">
<a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a> <tt class="descname">gearman_worker_register</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, const char<em>&nbsp;*function_name</em>, <a class="reference internal" href="types.html#c.uint32_t" title="uint32_t">uint32_t</a><em>&nbsp;timeout</em><big>)</big><a class="headerlink" href="#c.gearman_worker_register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_unregister">
<a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a> <tt class="descname">gearman_worker_unregister</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, const char<em>&nbsp;*function_name</em><big>)</big><a class="headerlink" href="#c.gearman_worker_unregister" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_unregister_all">
<a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a> <tt class="descname">gearman_worker_unregister_all</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_worker_unregister_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_job_free_all">
void <tt class="descname">gearman_job_free_all</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_job_free_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_function_exist">
<a class="reference internal" href="types.html#c.bool" title="bool">bool</a> <tt class="descname">gearman_worker_function_exist</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, const char<em>&nbsp;*function_name</em>, size_t<em>&nbsp;function_length</em><big>)</big><a class="headerlink" href="#c.gearman_worker_function_exist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_work">
<a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a> <tt class="descname">gearman_worker_work</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em><big>)</big><a class="headerlink" href="#c.gearman_worker_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.gearman_worker_grab_job">
<a class="reference internal" href="gearman_job_st.html#c.gearman_job_st" title="gearman_job_st">gearman_job_st</a> *<tt class="descname">gearman_worker_grab_job</tt><big>(</big><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st">gearman_worker_st</a><em>&nbsp;*worker</em>, <a class="reference internal" href="gearman_job_st.html#c.gearman_job_st" title="gearman_job_st">gearman_job_st</a><em>&nbsp;*job</em>, <a class="reference internal" href="gearman_return_t.html#c.gearman_return_t" title="gearman_return_t">gearman_return_t</a><em>&nbsp;*ret_ptr</em><big>)</big><a class="headerlink" href="#c.gearman_worker_grab_job" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Link with -lgearman</p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#c.gearman_worker_st" title="gearman_worker_st"><tt class="xref c c-type docutils literal"><span class="pre">gearman_worker_st</span></tt></a> is used for worker communication with the server.</p>
<p><a class="reference internal" href="#c.gearman_worker_context" title="gearman_worker_context"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_context()</span></tt></a> and <a class="reference internal" href="#c.gearman_worker_set_context" title="gearman_worker_set_context"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_set_context()</span></tt></a> can be used to store an arbitrary object for the user.</p>
<p><a class="reference internal" href="#c.gearman_worker_set_task_context_free_fn" title="gearman_worker_set_task_context_free_fn"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_set_task_context_free_fn()</span></tt></a> sets a trigger that will be called when a <a class="reference internal" href="gearman_task_st.html#c.gearman_task_st" title="gearman_task_st"><tt class="xref c c-type docutils literal"><span class="pre">gearman_task_st</span></tt></a> is released.</p>
<p><a class="reference internal" href="#c.gearman_worker_timeout" title="gearman_worker_timeout"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_timeout()</span></tt></a> and <a class="reference internal" href="#c.gearman_worker_set_timeout" title="gearman_worker_set_timeout"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_set_timeout()</span></tt></a> get and set the current timeout value, in milliseconds, for the worker.</p>
<p><a class="reference internal" href="#c.gearman_worker_function_exist" title="gearman_worker_function_exist"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_function_exist()</span></tt></a> is used to determine if a given worker has a specific function.</p>
<p><a class="reference internal" href="#c.gearman_worker_work" title="gearman_worker_work"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_work()</span></tt></a> have the worker execute against jobs until an error occurs.</p>
<p><a class="reference internal" href="#c.gearman_worker_grab_job" title="gearman_worker_grab_job"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_grab_job()</span></tt></a> Takes a job from one of the job servers. It is the responsibility of the caller to free the job once they are done. This interface is used in testing, and is very rarely the correct interface to program against.</p>
<p>Normally <em class="manpage">malloc(3)</em> and <em class="manpage">free(3)</em> are used for allocation and releasing workloads. <a class="reference internal" href="#c.gearman_worker_set_workload_malloc_fn" title="gearman_worker_set_workload_malloc_fn"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_set_workload_malloc_fn()</span></tt></a> and <a class="reference internal" href="#c.gearman_worker_set_workload_free_fn" title="gearman_worker_set_workload_free_fn"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_set_workload_free_fn()</span></tt></a> can be used to replace these with custom functions.</p>
<p>If you need to remove a function from the server you can call either <a class="reference internal" href="#c.gearman_worker_unregister_all" title="gearman_worker_unregister_all"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_unregister_all()</span></tt></a> to remove all functions that the worker has told the <strong class="program">gearmand</strong> server about, or you can use <a class="reference internal" href="#c.gearman_worker_unregister" title="gearman_worker_unregister"><tt class="xref c c-func docutils literal"><span class="pre">gearman_worker_unregister()</span></tt></a> to remove just a single function.</p>
</div>
<div class="section" id="return">
<h2>RETURN<a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h2>
<p>Various</p>
</div>
<div class="section" id="home">
<h2>HOME<a class="headerlink" href="#home" title="Permalink to this headline">¶</a></h2>
<p>To find out more information please check:
<a class="reference external" href="http://gearman.info/">http://gearman.info/</a></p>
</div>
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><em class="manpage">gearmand(8)</em> <em class="manpage">libgearman(3)</em></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Worker (gearman_worker_st)</a><ul>
<li><a class="reference internal" href="#synopsis">SYNOPSIS</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#return">RETURN</a></li>
<li><a class="reference internal" href="#home">HOME</a></li>
<li><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gearman_task_st.html"
                        title="previous chapter">Task (gearman_task_st)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gearman_job_handle_t.html"
                        title="next chapter">Job handle (gearman_job_handle_t)</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gearman_job_handle_t.html" title="Job handle (gearman_job_handle_t)"
             >next</a> |</li>
        <li class="right" >
          <a href="gearman_task_st.html" title="Task (gearman_task_st)"
             >previous</a> |</li>
        <li><a href="../index.html">Gearmand 6668028 documentation</a> &raquo;</li>
          <li><a href="index.html" >Libgearman</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, Data Differential, http://www.datadifferential.com/.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>